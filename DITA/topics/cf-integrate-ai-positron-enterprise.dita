<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="cf-integrate-ai-positron-enterprise">
  <title>Installing and Configuring the AI Positron Assistant Enterprise</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>AI Positron Assistant Enterprise Content Fusion</indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p id="p_mjr_dgk_54b">The <uicontrol>Oxygen AI Positron Assistant Enterprise for Web
        Author</uicontrol> plugin can be installed on a Content Fusion server and it provides the
      ability to use a specific AI engine (<b>OpenAI</b>, <b>Microsoft Azure OpenAI</b>, or
        <b>Anthropic Claude</b>) for chat purposes or to run useful predefined actions.</p>
    <p id="p_byh_w3x_l2c">You can download the plugin from here: <xref
        href="https://www.oxygenxml.com/ai_positron/installation.html#wa_ai_positron_enterprise_assistant"
        format="html" scope="external">Web Author AI Positron Assistant Plugin Download</xref>.</p>
    <p id="p_cyh_w3x_l2c">You can then <xref href="cf-upload-plugins.dita">install the plugin</xref>
      in the Content Fusion server to make the <uicontrol>AI Positron Assistant</uicontrol>
      side-pane accessible. For information about its features, see <xref
        href="https://www.oxygenxml.com/doc/ug-webauthor/topics/wa-ai-positron.html" format="html"
        scope="external">AI Positron Assistant Pane</xref>.</p>
    <p>
      <note type="important">The <uicontrol>AI Positron Assistant</uicontrol> side-pane appears in
        the UI only if the plugin is configured by an administrator.</note>
    </p>
    <p>The connection details to the AI engine can be configured by following the steps below.</p>
    <section id="installing_the_plugin">
      <title>Configuring the Oxygen AI Positron Assistant Enterprise for Web Author Plugin</title>
      <ol id="ol_njr_dgk_54b">
        <li id="li_ojr_dgk_54b">Go to the <xref href="cf-enterprise-configuration.dita"
            >Administration Page</xref>.</li>
        <li>Go to the <uicontrol>Web Author</uicontrol> tab.</li>
        <li id="li_pjr_dgk_54b">Select <uicontrol>Plugins</uicontrol>.</li>
        <li id="li_qjr_dgk_54b">
          <p id="p_rjr_dgk_54b">Click the <uicontrol><image href="../img/ConfigureSearchScope16.png"
                id="image_rbz_csl_3jb"/>Configure</uicontrol> icon next to the <b>Oxygen AI Positron
              Assistant Enterprise for Web Author</b> plugin to open the <uicontrol>Plugin
              configuration</uicontrol> dialog box.</p>
        </li>
        <li id="step-4">
          <p>In the <uicontrol>AI Service</uicontrol> tab, specify the connector and configure the
            necessary details:</p>
          <p>
            <dl id="dl_o1f_3sk_21c">
              <dlentry>
                <dt>AI Connector</dt>
                <dd>Specifies the connector type: <b>OpenAI</b>, <b>Microsoft Azure OpenAI</b>,
                    <b>Anthropic Claude</b> or <b>Google Gemini</b>.</dd>
              </dlentry>
            </dl>
          </p>
          <p id="p_kyd_hym_21c"><u><b>OpenAI:</b></u></p>
          <p>If <b>OpenAI</b> is chosen as the connector type, the following settings are
            available:</p>
          <p id="p_ayc_cf5_y1c">
            <dl id="dl_hjj_cf5_y1c">
              <dlentry conkeyref="reusables-ai-plugin/dlentry_wvg_d25_y1c" id="dlentry_mwm_2f5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_xvg_d25_y1c" id="dlentry_ixr_hf5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_zvg_d25_y1c" id="dlentry_znw_kf5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_awg_d25_y1c" id="dlentry_qng_lf5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_cwg_d25_y1c" id="dlentry_als_lf5_y1c">
                <dt/>
                <dd/>
              </dlentry>
            </dl>
          </p>
          <p id="p_rvw_jym_21c"><u><b>MS Azure OpenAI:</b></u></p>
          <p>If <b>Microsoft Azure OpenAI</b> is chosen as the connector type, the following
            settings are available:</p>
          <p id="p_wdl_nf5_y1c">
            <dl>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_uym_225_y1c" id="dlentry_hr3_4f5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_vym_225_y1c" id="dlentry_ttt_4f5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_wym_225_y1c" id="dlentry_yd2_pf5_y1c">
                <dt/>
                <dd/>
              </dlentry>
            </dl>
          </p>
          <p id="claude"><u><b>Anthropic Claude:</b></u></p>
          <p>If <b>Anthropic Claude</b> is chosen as the connector type, the following settings are
            available:</p>
          <p id="p_f1n_3g5_y1c">
            <dl>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_qmt_325_y1c" id="dlentry_egm_jg5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_ofl_j25_y1c" id="dlentry_wrt_jg5_y1c">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry conkeyref="reusables-ai-plugin/dlentry_rtw_j25_y1c" id="dlentry_ipb_kg5_y1c">
                <dt/>
                <dd/>
              </dlentry>
            </dl>
          </p>
          <p id="gemini"><u><b>Google Gemini:</b></u></p>
          <p>If <b>Google Gemini</b> is chosen as the connector type, the following settings are
            available:</p>
          <p id="p_f1n_3g5_y1c2">
            <dl>
              <dlentry id="dlentry_bg2_v1l_1fc2">
                <dt>Address</dt>
                <dd>The web address where the connector service is located. By default, it is
                    <codeph>https://generativelanguage.googleapis.com/</codeph>.</dd>
              </dlentry>
              <dlentry id="dlentry_wmm_nvw_nfc">
                <dt>API Key</dt>
                <dd>The API key that can be generated in Google AI Studio: <xref
                    href="https://aistudio.google.com/app/apikey" format="html" scope="external"
                  />.</dd>
              </dlentry>
              <dlentry id="dlentry_dfj_svw_nfc">
                <dt>Model</dt>
                <dd>The Gemini model to use (the available models can be found at <xref
                    href="https://ai.google.dev/gemini-api/docs/models" format="html"
                    scope="external"/>).</dd>
              </dlentry>
            </dl>
          </p>
        </li>
        <li>Optionally, you can configure a context and additional actions in the
            <uicontrol>Preferences</uicontrol> tab: <p>
            <dl>
              <dlentry conkeyref="reusables-ai-plugin/reusables-ai-context">
                <dt/>
                <dd/>
              </dlentry>
              <dlentry id="dlentry_nw4_zrd_dbc">
                <dt>Actions</dt>
                <dd>
                  <p id="p_ow4_zrd_dbc">
                    <dl id="dl_pw4_zrd_dbc">
                      <dlentry id="dlentry_qw4_zrd_dbc">
                        <dt>Load default actions</dt>
                        <dd>Specifies if default actions are loaded.</dd>
                      </dlentry>
                      <dlentry id="dlentry_rw4_zrd_dbc">
                        <dt>Additional actions</dt>
                        <dd>You can use this option to specify a zip file that contains the <xref
                            href="https://www.oxygenxml.com/doc/ug-addons/topics/ai_positron.html#ai_positron__section_rly_wp4_wxb"
                            format="html" scope="external">additional actions configured in JSON
                            files</xref>. Use the <uicontrol>Upload actions</uicontrol> button to
                          upload the specified zip file. If a file has already been uploaded, it
                          will be replaced with the new one. You can use the <uicontrol>Remove
                            actions</uicontrol> button to remove the currently uploaded additional
                          actions.</dd>
                      </dlentry>
                      <dlentry id="dlentry_wrf_q3v_rbc">
                        <dt>Actions filter</dt>
                        <dd>You can deselect any of the actions that you do not want presented in
                          the list of available actions. Then, click the
                            <uicontrol>Apply</uicontrol> button to save your changes.</dd>
                      </dlentry>
                    </dl>
                  </p>
                </dd>
              </dlentry>
            </dl>
          </p></li>
        <li>The <uicontrol>RAG</uicontrol> preferences page allows configuring settings related to
          retrieval augmented generation.<p id="p_wx1_2fw_2dc">
            <dl id="dl_qy1_2fw_2dc">
              <dlentry id="dlentry_ry1_2fw_2dc">
                <dt>Enable project-based RAG</dt>
                <dd>Enables retrieval-augmented generation based on similar content obtained from
                  the current open project. Actions and chat interactions generate content give more
                  precise and meaningful responses when this setting is enabled. It is enabled by
                  default. </dd>
              </dlentry>
              <dlentry id="dlentry_sy1_2fw_2dc">
                <dt>Content retrieval token limit </dt>
                <dd>Specifies a limitation for the upper amount of project content that may be sent
                  to the AI engine to enhance responses and tune them based on the currently open
                  project.</dd>
              </dlentry>
              <dlentry id="dlentry_ty1_2fw_2dc">
                <dt>Enable external RAG sources</dt>
                <dd>Enable the use of external retrieval augmented generation sources.</dd>
                <dd>
                  <p id="p_bmk_2fw_2dc">
                    <dl id="dl_uy1_2fw_2dc">
                      <dlentry id="dlentry_vy1_2fw_2dc">
                        <dt>Oxygen Feedback site token</dt>
                        <dd>
                          <p id="p_wy1_2fw_2dc">When the <ph keyref="product-ofb"/> product is used
                            to provide search functionality for a web site generated from the
                              <b>DITA XML</b> project, its search system can be used to retrieve
                            related content. In the <ph keyref="product-ofb"/> administrative
                            interface, find the installation instructions for the site version that
                            you want to use (click the <uicontrol>Installation</uicontrol> button on
                            your version's tile in the <xref
                              href="https://www.oxygenxml.com/doc/ug-feedback-cloud/topics/ofb-version-management.html"
                              format="html" scope="external">Site <uicontrol>Version</uicontrol>
                              page</xref>). The installation information contains a unique
                              <codeph>deploymentToken</codeph> value that can be copied and pasted
                            into the <uicontrol>Oxygen Feedback site token</uicontrol> field.</p>
                        </dd>
                      </dlentry>
                      <dlentry id="dlentry_xy1_2fw_2dc">
                        <dt>Oxygen Feedback site description</dt>
                        <dd>A description for this external content retrieval site that is passed to
                          the AI engine to help it decide if the external source is used or
                          not.</dd>
                      </dlentry>
                    </dl>
                  </p>
                </dd>
              </dlentry>
              <dlentry id="dlentry_yy1_2fw_2dc">
                <dt>Enable writing content in project (Experimental)</dt>
                <dd>Allows functions that can be used by the AI to write content in the current
                  project. The available functions used for this purpose are listed in the text
                  box.</dd>
              </dlentry>
            </dl>
          </p></li>
        <li id="li_tjr_dgk_54b">Click <uicontrol>Apply</uicontrol>.</li>
      </ol>
    </section>
    <section id="custom_actions">
      <title>Custom Actions</title>
      <p id="p_r21_dpv_w2c">It is possible to create additional custom actions by defining them in a
        zipped JSON file and attaching it within the Administration page.<ol id="ol_s21_dpv_w2c">
          <li id="li_t21_dpv_w2c">Create a JSON file that contains the custom actions based on
            information found in <xref
              href="https://www.oxygenxml.com/doc/ug-addons/topics/ai_positron.html#ai_positron__section_rly_wp4_wxb"
              format="html" scope="external">Oxygen XML Editor - AI Positron Assistant: Creating
              Custom Actions</xref>.</li>
          <li id="li_u21_dpv_w2c">Zip the created file.</li>
          <li id="li_v21_dpv_w2c">Go to the <xref href="cf-enterprise-configuration.dita"
              >Administration Page</xref> and to the <uicontrol>Preferences</uicontrol> tab. In the
              <uicontrol>Actions</uicontrol> section, specify your zip file in the
              <uicontrol>Additional actions</uicontrol> option and use the <uicontrol>Upload
              actions</uicontrol> button to upload it. If a file has already been uploaded, it will
            be replaced with the new one.</li>
          <li id="li_w21_dpv_w2c">Click <uicontrol>Apply</uicontrol> before exiting the
            Administration Page.</li>
        </ol></p>
      <p id="p_x21_dpv_w2c">Custom actions can also be distributed by being bundled with <xref
          href="https://www.oxygenxml.com/doc/ug-addons/topics/ai_positron.html#ai_positron__distributing_ai_actions"
          format="html" scope="external">existing plugins or frameworks</xref>.</p>
    </section>
    <section id="section_lqv_qnt_vbc">
      <title>Function Calls</title>
      <p id="p_bvn_sr4_pcc">Within the definition of custom actions, you can reference existing
        functions that are called by the AI engine to interact with the application. This gives
        actions more context information and generates more accurate responses from the AI.</p>
      <p id="p_dvn_sr4_pcc">The current available function reference values are:</p>
      <ul>
        <li><codeph>get_current_document_plain_text_content</codeph> - Retrieves all plain text
          (e.g. without markup) from the current document open in the editor.</li>
        <li><codeph>get_current_document_marked_up_content</codeph> - Retrieves all text with markup
          from the current document open in the editor. An optional <codeph>lineNumbering</codeph>
          parameter allows the AI to request the returned content to be returned with line numbers
          included.</li>
        <li><codeph>get_content_around_caret</codeph> - Retrieves size-limited content around the
          current cursor location within the document open in the editor.</li>
        <li><codeph>get_related_content_from_webhelp</codeph> - Returns content from the associated
            <ph keyref="product-ofb"/> WebHelp system that a token has been configured for, in the
          Web Author <uicontrol>AI Positron</uicontrol> preferences administration page.</li>
        <li><codeph>get_related_content_from_specific_feedback_site</codeph> - Returns content from
          the specified <ph keyref="product-ofb"/> WebHelp system token passed as a parameter.</li>
        <li><codeph>get_related_resources_overview_from_project</codeph> - Retrieves an overview of
          a maximum of 5 documents that each contain a URL and the most relevant information
          (usually titles, key words, and short descriptions). This function is paired with the
            <codeph>get_content_for_document_url</codeph> function, which retrieves the entire
          content for a document with a specific URL.</li>
        <li><codeph>get_topic_context_in_toc</codeph> - Returns the hierarchical structure path that
          references the selected topic from the context DITA map that is open in the
            <uicontrol>Publications</uicontrol> view, providing context such as its parent,
          siblings, and surrounding nodes within the DITA map. This is useful for understanding the
          topic's location in relation to other elements in the DITA map. If the selected topic
          cannot be identified, the hierarchy starts from the root of the DITA map.</li>
        <li id="li_knm_vch_zcc"><codeph>get_current_editor_file_location</codeph> - Retrieves the
          location (absolute path/URL) of the current file that is open in the editor.</li>
        <li>
          <p><codeph>get_content_for_document_url</codeph> - Retrieves the entire content for a
            document with a specific URL. An optional <codeph>lineNumbering</codeph> parameter
            allows the AI to request the returned content to be returned with line numbers
            included.</p>
        </li>
        <li id="li_af1_nch_zcc"><codeph>save_document(URL,content)</codeph> - Saves the document at
          the specified path and writes content to it. If a resource already exists at the specified
          URL, the content of the document will be overridden with the new content.</li>
        <li><codeph>add_to_toc(ditaMapURL, resourceURL, anchorNodeURL, positionOfInsertion)</codeph>
          - Modifies the context DITA map currently open in the <uicontrol>Publications</uicontrol>
          view and adds a topic reference to it.</li>
      </ul>
      <p id="p_ab1_ks4_pcc">Also, in new chat sessions, the AI has access to content around the
        cursor location within the document open in the editor.</p>
    </section>
  </body>
  <related-links product="webauthor">
    <linklist>
      <title>Related Information:</title>
      <link href="wa-ai-positron.dita"/>
    </linklist>
  </related-links>
</topic>
