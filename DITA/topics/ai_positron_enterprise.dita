<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="ai_positron_enterprise">
  <title>Oxygen AI Positron Assistant Enterprise</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>AI Positron Enterprise</indexterm>
        <indexterm>AI Actions</indexterm>
        <indexterm>AI</indexterm>
        <indexterm>Positron Enterprise</indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p id="p_kdh_dgk_54b">The <b>Oxygen AI Positron Assistant Enterprise</b> add-on provides
      advanced support for technical documentation writers throughout their content creation process
      by using a company-specific AI service (by configuring your company's specific <b
        id="b_mqx_ftk_21c">OpenAI</b> key, <b id="b_jkd_gtk_21c">Microsoft Azure OpenAI Service</b>
      connection, or <b>Anthropic Claude</b>).<note type="notice">A detailed list of actions and
        functionality available in the add-on is presented in the <xref href="ai_positron.dita"/>
        topic.</note></p>
    <section id="section_kgh_fzg_rsb">
      <title>Installation</title>
      <p id="p_jzg_dgk_54b">To install this add-on, follow this procedure:<ol id="ol_kzg_dgk_54b">
          <li id="li_lzg_dgk_54b">Go to <menucascade>
              <uicontrol>Help</uicontrol>
              <uicontrol>Install new add-ons</uicontrol>
            </menucascade> to open an add-on selection dialog box. Enter or paste
              <b>https://www.oxygenxml.com/InstData/Addons/default/updateSite.xml</b> in the
              <uicontrol>Show add-ons from</uicontrol> field or select it from the drop-down
              menu.<note id="note_manual_installation">If you have issues connecting to the default
              update site, you can <xref keyref="positron-enterprise-manual-download">download the
                add-on package</xref>, unzip it, then use the <uicontrol>Browse for local
                files</uicontrol> action in the <uicontrol>Install new add-ons</uicontrol> dialog
              box to locate the downloaded <filepath>addon.xml</filepath> file.</note></li>
          <li id="li_nzg_dgk_54b">Select the <b>Oxygen AI Positron Assistant (Enterprise)</b> add-on
            and click <uicontrol>Next</uicontrol>.<note type="important">There are two different
              iterations of the add-on and you can only have one or the other installed at once:<ul>
                <li><b>Oxygen AI Positron Assistant</b> - The regular version of the add-on.</li>
                <li><b>Oxygen AI Positron Assistant (Enterprise)</b> - This Enterprise version is
                  for those who want to connect to their own <b>OpenAI</b>, <b>MS Azure OpenAI</b>,
                  or <b>Anthropic Claude</b> account.</li>
              </ul></note></li>
          <li conkeyref="reusables-addons/ReadLicense-li" id="li_bcc_kjb_qfc"/>
          <li conkeyref="reusables-addons/Restart-li" id="li_kb5_kjb_qfc"/>
        </ol></p>
      <p id="p_qzg_dgk_54b"><b>Result:</b> The <uicontrol>AI Positron Assistant</uicontrol> side
        view is now available. If the view is not displayed, it can be opened by selecting it from <menucascade>
          <uicontrol>Window</uicontrol>
          <uicontrol>Show View</uicontrol>
        </menucascade>.</p>
    </section>
    <section id="direct_ai_engine_licensing">
      <title>Licensing and Configuration</title>
      <p>You can configure the company-specific AI service details in the <xref
          href="#./ai_service_configuration"/>. </p>
      <p>The <uicontrol>AI Positron Enterprise</uicontrol> add-on works free of charge with any
          <b>Oxygen</b> installation using an <b>Enterprise</b> license type for <b>Oxygen</b>. </p>
      <p>If your license of <b>Oxygen</b> is not an <b>Enterprise</b> license, <xref
          href="https://www.oxygenxml.com/ai_positron/buy.html?licenseType=enterprise" format="html"
          scope="external">a special license key</xref> needs to be purchased for the add-on to
        enable this direct access. You can use the <uicontrol>Register</uicontrol> button in the
          <uicontrol>AI Positron Assistant</uicontrol> side view to configure the special license
        key.</p>
      <note type="important">If you want to use the default <uicontrol>Oxygen AI
          Positron</uicontrol> service instead of a company-specific AI service, the <xref
          href="ai_positron.dita"/> add-on needs to be installed and used instead of the one listed
        above.</note>
      <note id="note_gbn_ryb_qbc" type="note">If you are an integrator using the Web Author
        Component in your own solution and you want to license the <uicontrol>AI Positron Enterprise
          for Web Author</uicontrol>, you can set a dedicated license server for AI Positron.</note>
    </section>
    <section id="ai_service_configuration">
      <title>AI Service Configuration Preferences</title>
      <p>Various service-related connection settings can be configured in <menucascade>
          <uicontrol>Options</uicontrol>
          <uicontrol>Preferences</uicontrol>
          <uicontrol>Plugins</uicontrol>
          <uicontrol>Oxygen AI Positron Assistant (Enterprise)</uicontrol>
          <uicontrol>AI Service Configuration</uicontrol>
        </menucascade>:<note id="note_lkp_hlq_g1c" type="tip">You can use editor variables such as
            <codeph>${env(ENV_NAME)}</codeph> in all configuration and header parameter
          values.</note><dl id="dl_o1f_3sk_21c">
          <dlentry>
            <dt>AI Connector</dt>
            <dd>Specifies the connector type: <b>OpenAI</b>, <b>Microsoft Azure OpenAI</b>,
                <b>Anthropic Claude</b>, or <b>Google Gemini</b>.</dd>
          </dlentry>
        </dl></p>
      <p id="p_kyd_hym_21c"><u><b>OpenAI:</b></u></p>
      <p>If <b>OpenAI</b> is chosen as the connector type, the following settings are available:</p>
      <p id="p_ayc_cf5_y1c">
        <dl id="dl_hjj_cf5_y1c">
          <dlentry conkeyref="reusables-ai-plugin/dlentry_wvg_d25_y1c" id="dlentry_mwm_2f5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_xvg_d25_y1c" id="dlentry_ixr_hf5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_zvg_d25_y1c" id="dlentry_znw_kf5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_awg_d25_y1c" id="dlentry_qng_lf5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_cwg_d25_y1c" id="dlentry_als_lf5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry id="dlentry_bs3_yzh_3fc">
            <dt>Enable speech-to-text</dt>
            <dd>This setting allows for speech-to-prompt transcribing using the AI engine. If
              enabled, the <xref href="ai_positron.dita#ai_positron/p-RecordVoice"><uicontrol>Start
                  recording prompt using the microphone</uicontrol> button</xref> should be
              displayed under the chat box (in the <uicontrol>AI Positron Assistant</uicontrol>
              view). </dd>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/reusables-enable-streaming">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_sk2_225_y1c" id="dlentry_qxr_mf5_y1c">
            <dt/>
            <dd/>
          </dlentry>
        </dl>
      </p>
      <note id="note_wy4_jq5_hcc" type="other" othertype="Notes">
        <ul id="ul_jgv_f32_52c">
          <li id="li_kgv_f32_52c">You can use your own <xref
              href="https://platform.openai.com/finetune" format="html" scope="external"
              >fine-tuned</xref> OpenAI models.</li>
          <li id="li_d3h_g32_52c">The <b>OpenAI</b> connector might work with other AI engines that
            use the <b>OpenAI</b> APIs (like <b>Grok</b> or <b>Deepseek</b>).</li>
        </ul>
      </note>
      <p id="p_rvw_jym_21c"><u><b>MS Azure OpenAI:</b></u></p>
      <p>If <b>Microsoft Azure OpenAI</b> is chosen as the connector type, the following settings
        are available:</p>
      <p id="p_wdl_nf5_y1c">
        <dl>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_uym_225_y1c" id="dlentry_hr3_4f5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_vym_225_y1c" id="dlentry_ttt_4f5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_wym_225_y1c" id="dlentry_yd2_pf5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/reusables-enable-streaming">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_fxh_325_y1c" id="dlentry_bj5_hg5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry>
            <dt>Speech service region</dt>
            <dd>If a <xref href="https://azure.microsoft.com/en-us/products/ai-services/ai-speech"
                format="html" scope="external">speech service</xref> is configured in the MS Azure
              account, you can use this setting to set the region of the server (for example:
                <codeph>eastus</codeph>). As an alternative, you can set a
                <codeph>SPEECH_REGION</codeph> environmental variable. Once the speech service is
              configured, the <xref href="ai_positron.dita#ai_positron/p-RecordVoice"
                  ><uicontrol>Start recording prompt using the microphone</uicontrol> button</xref>
              should be displayed under the chat box (in the <uicontrol>AI Positron
                Assistant</uicontrol> view). This button allows for speech-to-prompt transcribing
              using the AI engine.</dd>
          </dlentry>
          <dlentry>
            <dt>Speech service key</dt>
            <dd>If a <xref href="https://azure.microsoft.com/en-us/products/ai-services/ai-speech"
                format="html" scope="external">speech service</xref> is configured in the MS Azure
              account, you can use this setting to set the key to be used with the service. As an
              alternative, you can set a <codeph>SPEECH_KEY</codeph> environmental variable.</dd>
          </dlentry>
        </dl>
      </p>
      <note id="note_gbk_nq5_hcc">You can use your own <xref
          href="https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/fine-tuning"
          format="html" scope="external">fine-tuned</xref> Microsoft Azure OpenAI models.</note>
      <p id="claude"><u><b>Anthropic Claude:</b></u></p>
      <p>If <b>Anthropic Claude</b> is chosen as the connector type, the following settings are
        available:</p>
      <p id="p_f1n_3g5_y1c">
        <dl>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_qmt_325_y1c" id="dlentry_egm_jg5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_ofl_j25_y1c" id="dlentry_wrt_jg5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_rtw_j25_y1c" id="dlentry_ipb_kg5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/reusables-enable-streaming">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry conkeyref="reusables-ai-plugin/dlentry_fxh_325_y1c" id="dlentry_dxh_ng5_y1c">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry id="dlentry_bg2_v1l_1fc">
            <dt>Custom AI Service</dt>
            <dd>This connector is available by installing <xref
                href="ai-positron-custom-connector.dita"/>. It allows a connection to a custom AI
              service that exposes a REST API, similar to OpenAI's chat-completion API. Unlike the
              built-in <uicontrol>Open AI</uicontrol> connector, this add-on supports the <i>OAuth
                Client Credentials Flow</i> for authentication and offers more flexibility by
              letting you set query parameters.</dd>
          </dlentry>
        </dl>
      </p>
      <p id="gemini"><u><b>Google Gemini:</b></u></p>
      <p>If <b>Google Gemini</b> is chosen as the connector type, the following settings are
        available:</p>
      <p id="p_f1n_3g5_y1c2">
        <dl>
          <dlentry id="dlentry_bg2_v1l_1fc2">
            <dt>Address</dt>
            <dd>The web address where the connector service is located. By default, it is
                <codeph>https://generativelanguage.googleapis.com/</codeph>.</dd>
          </dlentry>
          <dlentry id="dlentry_wmm_nvw_nfc">
            <dt>API Key</dt>
            <dd>The API key that can be generated in Google AI Studio: <xref
                href="https://aistudio.google.com/app/apikey" format="html" scope="external"/>.</dd>
          </dlentry>
          <dlentry id="dlentry_dfj_svw_nfc">
            <dt>Model</dt>
            <dd>The Gemini model to use (the available models can be found at <xref
                href="https://ai.google.dev/gemini-api/docs/models" format="html" scope="external"
              />).</dd>
          </dlentry>
        </dl>
      </p>
    </section>
    <section id="extending_functionality">
      <title>Extending Functionality Using Add-ons</title>
      <p>The <b>Oxygen AI Positron Assistant Enterprise</b> add-on offers advanced options for
        developers to extend its functionality. Below is an overview of the main extension points
        available:</p>
      <p>
        <dl id="dl_e1z_m1m_y2c">
          <dlentry>
            <dt>AI Connectors Extension</dt>
            <dd>This extension point lets developers build an add-on that adds an AI connector to
              the <b>Oxygen AI Positron Assistant Enterprise</b>. It enables connections with AI
              providers not covered by our built-in options.</dd>
            <dd>To create a connector, follow these steps:<ol id="ol_f1z_m1m_y2c">
                <li>Add <codeph>oxygen-ai-positron-api</codeph> as a dependency in your plugin
                  project's
                  <filepath>pom.xml</filepath>:<codeblock id="codeblock_w3s_j5b_1fc" outputclass="language-xml">&lt;dependency>
  &lt;groupId>com.oxygenxml&lt;/groupId>
  &lt;artifactId>oxygen-ai-positron-api&lt;/artifactId>
  &lt;version>5.0.0&lt;/version>
  &lt;scope>provided&lt;/scope>
&lt;/dependency></codeblock></li>
                <li>Implement the
                    <codeph>ro.sync.exml.plugin.ai.AIConnectorsPluginExtension</codeph> interface in
                  your plugin's libraries.</li>
                <li>In the plugin descriptor file, define the <codeph>&lt;extension&gt;</codeph>
                  element that points to the implementation of your classes:
                  <codeblock id="codeblock_g1z_m1m_y2c" xml:space="preserve" outputclass="language-xml">&lt;extension type="AIConnectors" class="my.pack.CustomAIConnectorsProviderPluginExtension"/&gt;</codeblock></li>
              </ol></dd>
            <dd>A sample plugin is available to show how to create a connector for a custom AI service
              that uses a REST API to provide OpenAI chat completions. You can find it 
              here: <xref href="https://github.com/oxygenxml/oxygen-ai-positron-custom-connector-addon" format="html" scope="external"/></dd>
            <dd>
              <note id="note_en4_zcm_y2c">The AIConnectors extension type can be implemented
                starting with version 27.1 of <ph keyref="product"/></note>
            </dd>
          </dlentry>
          <dlentry>
            <dt>AI Functions Extension</dt>
            <dd>The AI Functions extension point lets developers add their own custom callback
              functions or replace the built-in ones. This makes it possible to create custom
              interactions with AI engines.</dd>
            <dd>To implement a function, follow these steps:<ol id="ol_h1z_m1m_y2c">
                <li>Implement the <codeph>ro.sync.exml.plugin.ai.AIFunctionsPluginExtension</codeph>
                  interface in your plugin's libraries.</li>
                <li>In the plugin descriptor file, define the <codeph>&lt;extension&gt;</codeph>
                  element that points to the implementation of your
                  classes:<codeblock id="codeblock_i1z_m1m_y2c" xml:space="preserve" outputclass="language-xml">&lt;extension type="AIFunctions" class="my.pack.CustomAIFunctionsProviderPluginExtension"/&gt;</codeblock></li>
              </ol></dd>
            <dd>
              <note id="note_gyt_3dm_y2c">The AIFunctions extension point can be implemented
                starting with version 27.0 of <ph keyref="product"/></note>
            </dd>
          </dlentry>
        </dl>
      </p>
    </section>
    <section conkeyref="reusables-ai-plugin/distributing_ai_actions" id="d1105e594"><p/></section>
    <section id="section_troubleshooting">
      <title>Troubleshooting</title>
      <p>If the add-on fails to connect with the custom settings, it might be useful to enable debug
        logging in the application to see what requests and responses are made to/from the AI
        server. </p>
      <p>You can enable debug logging in the application by adding a
          <filepath>logback.xml</filepath> file in the application's installation folder. A minimal
          <codeph>logback.xml</codeph> configuration XML file content to enable logging only for the
        AI Positron add-on's connections would look like
          this:<codeblock id="codeblock_scr_vxn_h1c" outputclass="language-xml">&lt;configuration>
  &lt;appender name="R2" class="ch.qos.logback.core.rolling.RollingFileAppender">
    &lt;file>${user.home}/Desktop/oxygenLog/oxygen.log&lt;/file>
    &lt;rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
      &lt;fileNamePattern>${user.home}/Desktop/oxygenLog/oxygen%i.log.gz&lt;/fileNamePattern>
      &lt;minIndex>1&lt;/minIndex>
      &lt;maxIndex>20&lt;/maxIndex>
    &lt;/rollingPolicy>
    &lt;triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
      &lt;maxFileSize>12MB&lt;/maxFileSize>
    &lt;/triggeringPolicy>
    &lt;encoder>
      &lt;pattern>%r %marker %p [ %t ] %c - %m%n&lt;/pattern>
    &lt;/encoder>
  &lt;/appender>
  &lt;logger name="com.oxygenxml.positron.connector" level="debug"/>
  &lt;logger name="com.oxygenxml.positron.core" level="debug"/>
  &lt;root level="error">
    &lt;appender-ref ref="R2"/>
  &lt;/root>
&lt;/configuration></codeblock><note type="important" id="note_ls1_qdk_gcc">The logging
          information will be copied in the <filepath>Desktop/oxygenLog</filepath> folder once the
          application is started. To avoid performance problems, the <codeph>logback.xml</codeph>
          file must be deleted once the logging has been obtained.</note></p>
    </section>
  </body>
  <related-links>
    <link href="ai_positron.dita"/>
  </related-links>
</topic>
