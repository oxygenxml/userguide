<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="dcpp_how_to_change_reset_the_figure_numbering">
  <title>How to Change/Reset the Figure Numbering</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm product="author developer editor authorEclipse developerEclipse editorEclipse"
            ><ph keyref="html5-transformation"/><indexterm>Figures<indexterm>Figure
              numbering</indexterm></indexterm></indexterm>
        <indexterm product="pdf-css">Figures<indexterm>Figure numbering</indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
		<note>This topic is for the <b>pdf-css-html5</b> transformation.</note>
    <p>There are cases when you need to change the aspect of the figure counter that is shown before
      the figure titles. By default, the figure titles are formatted like
      this:<codeblock outputclass="language-ini">Figure NN. Lore Ipsum Title</codeblock></p>
    <p><i>NN</i> is the number of the figure that starts being counted from the beginning of the
      publication.</p>
    <p>One use-case is to have the NN counter be incremented only within one chapter (for example,
      the first chapter contains "Figure 1" and "Figure 2", and second chapter starts over with
      "Figure 1" instead of incrementing to "Figure 3").</p>
    <p>You should reset the figure counter on each topic marked as chapter, then hide the label from
      the figure <xmlelement>figcaption</xmlelement> (this is an HTML element generated by the XSL
      transformation), and create another label using a <codeph>:before</codeph> selector on the
        <xmlelement>figcaption</xmlelement>.</p>
    <codeblock outputclass="language-css">*[class ~= "topic/topic"][is-chapter] {
  counter-reset: figcount;
}

.fig--title-label{
  display:none;
}

*[class ~= "topic/fig"] > .figcap:before{
  /* Add more styling or change the content if needed */
  content: "Figure " counter(figcount) ". ";
  counter-increment: figcount;
}</codeblock>
  </body>
</topic>
