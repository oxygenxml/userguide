<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="image-map-tei">
  <title>Image Maps in TEI</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>Author editing mode<indexterm>Image Map
            Editor<indexterm>TEI</indexterm></indexterm></indexterm>
        <indexterm>XML documents<indexterm>Author Mode editing<indexterm>Image Map
                Editor<indexterm>TEI</indexterm></indexterm></indexterm></indexterm>
        <indexterm>Image Map Editor in TEI</indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p><ph keyref="product"/> includes support for <b>image maps</b> in TEI documents through
      the use of the <codeph>facsimile</codeph> element. In TEI documents, this feature provides an
      easy way to create areas (using <codeph>zone</codeph> elements) in an image where the end user
      can hover or click to retrieve more information about that particular area of the image. The
      visual <uicontrol>Author</uicontrol> editing mode includes an <uicontrol>Image Map
        Editor</uicontrol> that helps you to easily create the areas in the image.</p>
    <p>
      <fig>
        <title>Image Map Editor in TEI</title>
        <image href="../img/image_map_tei.png" placement="inline"/>
      </fig>
    </p>
    <section id="image_map_editor_interface_in_tei">
      <title>Image Map Editor Interface in TEI</title>
      <p>The interface of the <uicontrol>Image Map Editor</uicontrol> consists of the following
        sections and actions:<dl>
          <dlentry>
            <dt id="toolbar">Toolbar</dt>
            <dd>
              <p>
                <dl>
                  <dlentry
                    conkeyref="reusables-editing-documents/rect">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/poly">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/Free-Form">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/duplicate">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/delete">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/undo">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/redo">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/show-numbers">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/bring-front">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/bring-forward">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/send-backward">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/send-back">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/color-chooser">
                    <dt/>
                    <dd/>
                  </dlentry>
                  <dlentry
                    conkeyref="reusables-editing-documents/zoom">
                    <dt/>
                    <dd/>
                  </dlentry>
                </dl>
              </p>
            </dd>
          </dlentry>
          <dlentry id="image-map-image-pane">
            <dt>Image Pane</dt>
            <dd>This main image pane is where you work with shapes to add areas (zones) within an
              image. Use the mouse to move shapes around in the image to the desired area and drag
              the points on a selected shape to adjust its size and shape. It is easy to see which
              shape is selected in this image pane because the border of the selected shape changes
              from a solid line to a dotted line.<p>
                <dl>
                  <dlentry id="contextual-actions-dlentry">
                    <dt><u>Contextual Menu Actions Available in the Image Pane</u></dt>
                    <dd>You can right-click the shapes, points, or anywhere in the Image Pane to
                      invoke the contextual menu where the following actions are available:<p>
                        <dl>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-add-point">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-remove-point">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-duplicate">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-delete">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-rectangle">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-polygon">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-undo">
                            <dt/>
                            <dd/>
                          </dlentry>
                          <dlentry
                            conkeyref="reusables-editing-documents/contextual-redo">
                            <dt/>
                            <dd/>
                          </dlentry>
                        </dl>
                      </p></dd>
                  </dlentry>
                </dl>
              </p></dd>
          </dlentry>
          <dlentry
            conkeyref="reusables-editing-documents/shape-table">
            <dt/>
            <dd/>
          </dlentry>
          <dlentry>
            <dt>Properties</dt>
            <dd>
              <p>
                <dl>
                  <dlentry id="id">
                    <dt><uicontrol>ID</uicontrol></dt>
                    <dd>The identifier for the selected area. This will become the value of the
                        <codeph>xml:id</codeph> attribute for the particular <codeph>zone</codeph>
                      element. When you insert a new zone, a unique ID is automatically generated
                      and displayed in this field. However, you can change this value if you want
                      to.</dd>
                  </dlentry>
                </dl>
              </p>
            </dd>
          </dlentry>
        </dl></p>
    </section>
    <section id="how_to_create_an_image_map_in_tei">
      <title>How to Create an Image Map in TEI</title>
      <p>To create an image map on an existing image in a TEI document, follow these steps:<ol>
          <li>The image (<codeph>graphic</codeph>) must be inside a <codeph>facsimile</codeph>
            element to support the <uicontrol>Image Map Editor</uicontrol> feature.</li>
          <li>Right-click the image and select <uicontrol>Image Map Editor</uicontrol>.<p>
              <b>Result:</b> This action will apply an <i>image map</i> to the current image
              and open the <uicontrol>Image Map Editor</uicontrol> dialog box.</p></li>
          <li>Add areas (zones) in the image by selecting one of the shape buttons
                (<uicontrol><image href="../img/NewRectangle20.png"/>New Rectangle</uicontrol> or
                <uicontrol><image href="../img/NewPolygon20.png"/>New Polygon</uicontrol>).</li>
          <li>Move the shape to the desired area in the image and drag any of the points on the
            shape to adjust its size or form. You can use the <xref href="#image-map-tei/toolbar"
              format="dita">other buttons on the toolbar</xref> to adjust its layer and color, or to
            perform other editing actions.</li>
          <li>With the shape selected, enter an <xref href="#image-map-tei/id" format="dita"
                ><uicontrol>ID</uicontrol></xref>.</li>
          <li>If you want to add more areas (zones) to the image, select a shape button again and
            repeat the appropriate steps.</li>
          <li>When you are finished, click <uicontrol>OK</uicontrol> to process your changes.</li>
        </ol></p>
      <p><b>Result:</b> The <i>image map</i> is applied on the image and the appropriate
        elements and attributes are automatically added. In <uicontrol>Author</uicontrol> mode, the
        image map is now rendered over the image and the following two buttons will now be available
        at the bottom of the image:<ul>
          <li><uicontrol>Image Map Editor</uicontrol> - Click this button to open the
              <uicontrol>Image Map Editor</uicontrol>.</li>
          <li id="image-map-details"><uicontrol>Image Map Details</uicontrol> - Click this button to
            expand a section that displays the details of the image map.</li>
        </ul></p>
    </section>
    <section id="how_to_edit_an_existing_image_map_in_tei">
      <title>How to Edit an Existing Image Map in TEI</title>
      <p>To edit an existing image map, use any of the following methods:<ul>
          <li>Simply double-click the image.</li>
          <li>Right-click the image and select <uicontrol>Image Map Editor</uicontrol>.</li>
          <li>Click the <uicontrol>Image Map Editor</uicontrol> button below the image.</li>
        </ul>All three methods open the <uicontrol>Image Map Editor</uicontrol> where you can make
        changes to the image map with a visual editor. You can also make changes to the XML
        structure of the image map in the <uicontrol>Text</uicontrol> editing mode.</p>
      <p>You can also click the <uicontrol>Image Map Details</uicontrol> button below the image to
        expand a section that displays the details of the image map and allows you to change the
        coordinates and IDs of the hyperlinked areas.</p>
      <p>
        <note type="restriction">Currently, if <codeph>zone</codeph> elements contain additional
          content (such as text or comments) and you edit the image map, the <uicontrol>Image Map
            Editor</uicontrol> does not preserve the additional content. Therefore, if you do need
          to insert additional content inside the <codeph>zone</codeph> elements, you should do so
          after the image map has been created and finalized. Subsequent changes to the image map
          should then be done in <uicontrol>Text</uicontrol> mode.</note>
      </p>
    </section>
    <section id="overlapping_areas">
      <title>Overlapping Areas</title>
      <p>If shapes overlap one another in the <uicontrol>Image Map Editor</uicontrol>, the one on
        the top layer takes precedence. The number shown inside each shape represent its layer (if
        the numbers are not displayed, click the <uicontrol><image href="../img/ShowLayers20.png"
          />Show/Hide Numbers</uicontrol> button on the <xref href="#image-map-tei/toolbar"
          format="dita"><uicontrol>Image Map Editor</uicontrol> toolbar</xref>). To change the layer
        order for a shape, use the layer buttons on the <xref href="#image-map-tei/toolbar"
          format="dita"><uicontrol>Image Map Editor</uicontrol> toolbar</xref> (<image
          href="../img/BringShapeToFront20.png"/>, <image href="../img/BringShapeForward20.png"/>,
          <image href="../img/SendShapeBackward20.png"/>, <image href="../img/SendShapeToBack20.png"
        />).</p>
      <p>If you insert a shape and all of its coordinates are completely inside another shape, the
          <uicontrol>Image Map Editor</uicontrol> will display a warning to let you know that the
        shape is entirely covered by a bigger shape. Keep in mind that if a shape is completely
        inside another shape, its hyperlink will only be accessible if its layer is on top of the
        bigger shape.</p>
      <p>
        <note type="warning">PDF output is limited to rectangular shaped image map objects.
          Therefore, if your image contains circles or polygons, those objects will be redrawn as
          rectangles in the PDF output. Keep in mind that this might affect overlaps in the
          output.</note>
      </p>
    </section>
  </body>
  <related-links>
    <linklist><title>Related Information:</title><link format="html" href="http://www.tei-c.org/release/doc/tei-p5-doc/en/html/ref-facsimile.html" scope="external">
      <linktext>TEI 'facsimile' Element Specifications</linktext>
    </link></linklist>
  </related-links>
</topic>
