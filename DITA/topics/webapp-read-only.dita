<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="webapp-read-only">
  <title>Opening a File as Read-Only in <ph keyref="webappProduct"/></title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>Oxygen XML Web Author Component<indexterm>Open a file as
          read-only</indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p>By opening the file as read-only, the <ph keyref="webappProduct"/> is instructed to visually
      warn users that the content of the document cannot be edited. This is an alternative to having
      them edit the content and then receive an error when trying to check it in.</p>
    <p>You can instruct the <ph keyref="webappProduct"/> to open a file as read-only by using one
      of the following methods:<ul>
        <li>If you are implementing a <xref
            href="https://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/exml/plugin/urlstreamhandler/URLStreamHandlerPluginExtension.html"
            format="html" scope="external"><i>URLStreamHandler</i></xref>
          <term>plugin</term>, you can implement the
            <i>java.net.URLConnection.getHeaderField(String)</i> method to return the value of
            <codeph>true</codeph> for the <codeph>oxygen_read_only</codeph> header name. Also, the
          following headers can be used to give <ph keyref="webappProduct"/> more details about the
          reason why the document is opened as read-only:<p>
            <dl>
              <dlentry>
                <dt><codeph>oxygen_read_only_reason</codeph></dt>
                <dd>Provides a reason why a document is opened as read-only and the reason will be
                  presented when the user tries to edit a read-only document.</dd>
              </dlentry>
              <dlentry>
                <dt><codeph>oxygen_read_only_reason_code</codeph></dt>
                <dd>Provides a code that identifies the reason why the document is opened as
                  read-only. This code should be unique across user interface languages. It will not
                  be presented to the user but can be received using the API.</dd>
              </dlentry>
            </dl>
          </p></li>
        <li>Use the JavaScript API <codeph>editor.setReadOnlyState()</codeph>.</li>
        <li>Use the Java API
            <codeph>ro.sync.ecss.extensions.api.access.AuthorEditorAccess#setReadOnly()</codeph>.</li>
      </ul></p>
    <p>Once in read-only mode, Web Author will present a warning editor stripe that presents the
      reason for the document being read-only. You can customize the content of this stripe using
      the <codeph>editor.setReadOnlyStripeRenderer()</codeph> JavaScript API.</p>
  </body>
</topic>
