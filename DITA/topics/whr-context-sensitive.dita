<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="whr-context-sensitive">
  <title>Context-Sensitive Help System</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm product="author developer editor authorEclipse developerEclipse editorEclipse"
          >WebHelp Responsive<indexterm>Context-sensitive help</indexterm></indexterm>
        <indexterm product="webhelp-responsive ope">Context-sensitive help</indexterm>
      </keywords>
      <keywords>
        <keyword outputclass="label" product="webhelp-responsive">DITA-OT</keyword>
        <keyword outputclass="label" product="webhelp-responsive">Transformation
          Parameters</keyword>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p id="p_wlm_cgk_54b">Context-sensitive help systems assist users by providing specific informational topics for
      certain components of a user interface, such as a button or window. This mechanism works based
      on mappings between a unique ID defined in the topic and a corresponding HTML page.</p>
    <section id="contextsensitive_queries">
      <title>Context-Sensitive Queries</title>
      <p>This system uses the <filepath>cshelp.html</filepath> page and the
          <filepath>context-help-map.xml</filepath> file along with a few parameters:<dl
          id="dl_cnm_cgk_54b">
          <dlentry id="dlentry_dnm_cgk_54b">
            <dt><uicontrol>contextId</uicontrol></dt>
            <dd>Used by the WebHelp JavaScript engine to locate the entry in the XML file and open
              the corresponding help page.<note id="note_aw5_l2z_wgc">
                <ul id="ul_vxp_kfz_wgc">
                  <li>The <codeph>contextId</codeph> parameter can include an <xref
                      keyref="glossentry_anchor"><term>anchor</term></xref> to jump to a page
                    section (e.g. <codeph>contextId=topicID#anchor</codeph>).</li>
                  <li>The <codeph>contextId</codeph> parameter is not case-sensitive.</li>
                </ul>
              </note></dd>
          </dlentry>
          <dlentry
            product="author developer editor authorEclipse developerEclipse editorEclipse webhelp-responsive ope"
            id="dlentry_fnm_cgk_54b">
            <dt><uicontrol>appname</uicontrol></dt>
            <dd>Used in combination with <codeph>contextId</codeph> to match the corresponding
                <i>appname</i> attribute in the mapping
              file.<codeblock outputclass="language-ini" id="codeblock_gnm_cgk_54b">http://localhost/webhelp/cshelp.html?contextId=topicID&amp;appname=myApplication</codeblock></dd>
          </dlentry>
        </dl></p>
      <note id="note_el2_c5s_rsb" type="attention">Prior to version 24.1, context-sensitive help was
        accessible via <filepath>index.html</filepath>. This method still works but is deprecated
        and will be removed in a future release.</note>
    </section>
    <section id="generating_contextsensitive_help">
      <title>Generating Context-Sensitive Help</title>
      <p>When WebHelp Responsive output is generated, the transformation produces the
          <filepath>context-help-map.xml</filepath> in the output folder. This file maps IDs to HTML
        pages using <xmlelement>appContext</xmlelement> elements, as shown
        below:<codeblock outputclass="language-xml" id="codeblock_ylm_cgk_54b">&lt;map productID="oxy-webhelp" productVersion="1.1"&gt;
  &lt;appContext helpID="myapp-functionid1" path="tasks/app-help1.html"/&gt;
  &lt;appContext helpID="myapp-functionid2" path="tasks/app-help1.html"/&gt;
    .  .  .
&lt;/map&gt;</codeblock>The <filepath>context-help-map.xml</filepath> mapping file can also
        be loaded by a PHP script on the server side. The script receives the
          <codeph>contextId</codeph> value and will look it up in the XML file.</p>
      <p id="p_zlm_cgk_54b">The <xmlelement>appContext</xmlelement> element supports the following
          attributes:<dl id="dl_bmm_cgk_54b">
          <dlentry id="dlentry_cmm_cgk_54b">
            <dt><xmlatt>helpID</xmlatt></dt>
            <dd>A Unique ID based on either the topic <xmlelement>resourceid</xmlelement> element or
                <xmlatt>id</xmlatt> attribute:</dd>
            <dd>
              <p id="p_emm_cgk_54b">
                <dl id="dl_fmm_cgk_54b">
                  <dlentry id="dlentry_gmm_cgk_54b">
                    <dt><xmlelement>resourceid</xmlelement> (see <xref
                        href="https://www.oxygenxml.com/dita/1.3/specs/langRef/base/resourceid.html#resourceid__attributes"
                        format="html" scope="external">DITA Specifications: &lt;resourceid></xref>
                      for more details)</dt>
                    <dd>Specified in the <term>DITA map</term>
                      <xmlelement>topicref</xmlelement> or in the topic
                        <xmlelement>prolog</xmlelement>.</dd>
                    <dd>Assigned the following attributes (ordered by priority):<ol
                        id="ol_qgb_q3z_wgc">
                        <li><xmlatt>appname</xmlatt> - Name for the external application referencing
                          the topic, empty (<codeph>""</codeph>) if unspecified.</li>
                        <li><xmlatt>appid</xmlatt> - ID for the external application referencing the
                          topic.</li>
                        <li><xmlatt>id</xmlatt> - ID used by a specific application to identify the
                          topic, ignored if <xmlatt>appid</xmlatt> is present.</li>
                      </ol><note id="note_kmm_cgk_54b">Multiple <xmlatt>appid</xmlatt> values can
                        share a single <xmlatt>appname</xmlatt>, and vice versa. However, each
                          <xmlatt>appid</xmlatt>/<xmlatt>appname</xmlatt> combination must be unique
                        within the context of a single <xref keyref="glossentry_root-map"><term>root
                            map</term></xref>, as it identifies a specific application ID. For
                        example, two different functions of an application can point to the same
                        WebHelp page.</note><p id="p_lmm_cgk_54b"><u><b>Example: The
                              <xmlelement>resourceid</xmlelement> Element Specified in a DITA
                            Map</b></u></p><p id="p_mmm_cgk_54b">The
                          <xmlelement>resourceid</xmlelement> element can be specified in a
                          <xmlelement>topicmeta</xmlelement> element within a
                          <xmlelement>topicref</xmlelement>.<codeblock outputclass="language-xml" id="codeblock_nmm_cgk_54b">&lt;map title="App Help">
  &lt;topicref href="app-help1.dita" type="task">
     &lt;topicmeta>
       &lt;resourceid appname="myapp" appid="functionid1"/>
       &lt;resourceid appname="myapp" appid="functionid2"/>
     &lt;/topicmeta>
  &lt;/topicref>
&lt;/map></codeblock></p><p id="p_omm_cgk_54b"><u><b>Example: The
                              <xmlelement>resourceid</xmlelement> Element Specified in a DITA
                            Topic</b></u></p><p id="p_pmm_cgk_54b">The
                          <xmlelement>resourceid</xmlelement> element can be specified in a
                          <xmlelement>prolog</xmlelement> element within a DITA
                        topic.<codeblock outputclass="language-xml" id="codeblock_qmm_cgk_54b">&lt;task id="app-help1">
  &lt;title>My App Help&lt;/title>
  &lt;prolog>
    &lt;resourceid appname="myapp" appid="functionid1"/>
    &lt;resourceid appname="myapp" appid="functionid2"/>
  &lt;/prolog>
...
&lt;/task></codeblock></p></dd>
                  </dlentry>
                  <dlentry id="dlentry_smm_cgk_54b">
                    <dt><xmlatt>id</xmlatt></dt>
                    <dd>Specified in the topic root element, used if no
                        <xmlelement>resourceid</xmlelement> is declared (in both <term>DITA
                        map</term> and topic).<note type="important" id="note_tmm_cgk_54b">Ensure
                        these IDs are unique within the entire DITA project. Duplicate IDs will
                        trigger warning messages and the help system will not work
                        properly.</note><note id="note_t5c_5gz_wgc">The <xref
                          href="webhelp-responsive-plugin-additional-parameters.dita#webhelp-responsive-plugin-additional-parameters/section_rxq_j1w_swb"
                            ><codeph>webhelp.csh.disable.topicID.fallback</codeph> parameter</xref>
                        can be set to <i>true</i> to disable the topic <xmlatt>id</xmlatt> fallback
                        when <codeph>resourceid</codeph> information is unavailable when computing
                        context sensitive help mapping.</note></dd>
                  </dlentry>
                </dl>
              </p>
            </dd>
          </dlentry>
          <dlentry id="dlentry_umm_cgk_54b">
            <dt><xmlatt>path</xmlatt></dt>
            <dd>The path to the corresponding HTML page, relative to the location of the
                <filepath>context-help-map.xml</filepath> mapping file.</dd>
          </dlentry>
        </dl></p>
    </section>
  </body>
</topic>
