<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="ai-translator-add-on">
  <title>AI Translator Add-on</title>
  <shortdesc>The AI Translator Add-on is a powerful Oxygen XML Editor extension that provides
    AI-powered translation capabilities for XLIFF (XML Localization Interchange File Format)
    files.</shortdesc>
  
    <topic id="introduction">
      <title>Introduction</title>
      <body>
      <p>The AI Translator Add-on is a powerful Oxygen XML Editor extension that provides AI-powered
        translation capabilities for XLIFF (XML Localization Interchange File Format) files. This
        add-on streamlines the translation workflow by leveraging advanced AI models to produce
        high-quality translations while maintaining the structural integrity of your XML
        content.</p>
      <section id="what_is_translation_task">
        <title>What is a Translation Task?</title>
        <p>A translation task represents a complete translation workflow that leverages the AI
          connectors and models configured in Oxygen Positron to translate XLIFF translation units.
          Each task operates on specific XLIFF files and applies the selected AI translation
          configuration to process the content systematically.</p>
      </section>
      <section id="key_features">
        <title>Key Features</title>
        <p><b>AI-Powered Translation</b>: Translation tasks utilize the AI connectors and models
          defined in Positron, ensuring consistent configuration across Oxygen tools. This
          integration provides access to various AI engines with the flexibility to choose the most
          appropriate model for your translation requirements.</p>
        <p><b>Quality Assurance through Introspection</b>: Each translation task includes a built-in
          introspection mechanism that verifies the accuracy and quality of translations. This
          quality control system analyzes translated content to ensure it maintains the integrity of
          the original formatting and structure.</p>
        <p><b>Retry Translation System</b>: When introspection identifies potential issues with a
          translation, the system can automatically initiate additional translation attempts using
          different models. This progressive approach allows the use of more powerful models to
          ensure optimal translation quality.</p>
        <p><b>Parallel Task Execution</b>: The add-on supports running multiple translation tasks
          simultaneously, enabling improved productivity and faster processing of large translation
          projects.</p>
        <p><b>Configurable Translation Settings</b>: Translation configurations are fully editable
          through the preferences interface, allowing you to customize AI models, retry strategies,
          and introspection parameters.</p>
      </section>
      </body>
    </topic>
  <topic id="requirements">
      <title>Requirements</title>
      <body><p><b>Oxygen Positron add-on</b>: This add-on is required for AI Translator functionality. The
        AI connectors defined in Positron can also be used for AI Translations, providing a unified
        configuration experience across Oxygen tools.</p></body>
    </topic>
  <topic id="installation">
      <title>Installation</title>
    <body>
      <section id="quick_installation">
        <title>Quick Installation</title>
        <p>TODO: Update this section</p>
      </section>
      <section id="manual_installation">
        <title>Manual Installation</title>
        <p>TODO: Update this section</p>
      </section></body>
    </topic>
  <topic id="ai_translator_view">
      <title>AI Translator View</title>
      <body><p>The AI Translator View is the main interface for managing translation tasks in the Oxygen
        XML Editor. This view provides a comprehensive task management system that allows you to
        create, monitor, and control translation jobs with real-time status updates and detailed
        progress tracking.</p>
      <p><fig id="fig_translations_view">
        <title>AI Translator View</title>
        <image href="../img/ai-translator-translations-view.png" placement="break">
          <alt>AI Translator View</alt>
        </image>
      </fig></p>
      <section id="interface_overview">
        <title>Interface Overview</title>
        <p>The AI Translator View consists of several key components:</p>
        <p><b>Main Toolbar</b>:</p>
        <ul>
          <li><b>New Button</b>: Creates a new translation task</li>
          <li><b>Settings Dropdown</b>: Access to preferences and configuration options</li>
          <li><b>Clear Cache</b>: Clears the translation cache</li>
          <li><b>Preferences</b>: Opens the preferences dialog</li>
        </ul>
        <p><b>Task List Panel</b>:</p>
        <p>The main panel displays all translation tasks with the following information for each
          task:</p>
        <ul>
          <li><b>Task Name</b>: Descriptive name of the translation job</li>
          <li><b>Progress Bar</b>: Visual indicator showing completion percentage and current file
            being processed</li>
          <li><b>Status Badge</b>: Color-coded status indicator (Queued, Running, Stopped,
            Completed)</li>
          <li><b>Task Details</b>: Creation date, progress information, and duration</li>
          <li><b>Action Buttons</b>: <ul>
              <li><b>Play/Pause</b>:  Start or pause task execution</li>
              <li><b>Delete</b>: Remove the task from the list</li>
            </ul></li>
        </ul>
      </section>
      <section id="task_status_states">
        <title>Task Status States</title>
        <p>Translation tasks progress through different states during their lifecycle:</p>
        <ol>
          <li><b>Queued</b> (Orange): Task is created and waiting to be processed<ul>
              <li>Shows creation timestamp</li>
              <li>Task is in the processing queue</li>
            </ul></li>
          <li><b>Running</b> (Blue): Task is actively being processed<ul>
              <li>Displays real-time progress (e.g., "15/400 translation units")</li>
              <li>Shows current file being processed</li>
              <li>Provides estimated time remaining</li>
              <li>Updates elapsed processing time</li>
            </ul></li>
          <li><b>Stopped</b> (Gray): Task has been paused or interrupted<ul>
              <li>Shows last update timestamp</li>
              <li>Can be resumed using the play button</li>
              <li>Preserves current progress</li>
            </ul></li>
          <li><b>Completed</b> (Green): Task has finished successfully<ul>
              <li>Shows completion timestamp and total duration</li>
              <li>Displays final statistics (e.g., "400/400 translation units")</li>
              <li>Task remains in history for reference</li>
            </ul></li>
        </ol>
      </section>
      <section id="notification_system">
        <title>Notification System</title>
        <p>The right side of the interface shows real-time notifications for task events:</p>
        <ul>
          <li><b>Task Creation</b>: Confirms when a new translation task is created</li>
          <li><b>Task Progress</b>: Updates on translation progress and file processing</li>
          <li><b>Task Completion</b>: Notification when tasks finish with summary statistics</li>
          <li><b>Time Tracking</b>: Detailed timing information including start time, elapsed time,
            and total duration</li>
        </ul>
      </section>
      <section id="task_management_features">
        <title>Task Management Features</title>
        <p><b>Progress Tracking</b>:</p>
        <ul>
          <li>Real-time progress bars showing completion percentage</li>
          <li>Current file being processed</li>
          <li>Translation units completed vs. total</li>
          <li>Estimated time remaining for running tasks</li>
        </ul>
        <p><b>Task Control</b>:</p>
        <ul>
          <li>Start, pause, and resume individual tasks</li>
          <li>Delete completed or unwanted tasks</li>
          <li>Queue multiple tasks for sequential processing</li>
        </ul>
        <p><b>Status Monitoring</b>:</p>
        <ul>
          <li>Visual status indicators for quick task state identification</li>
          <li>Detailed progress information for each task</li>
          <li>Historical record of completed tasks with performance metrics</li>
        </ul>
        <p>This comprehensive task management system ensures efficient handling of translation
          workflows while providing full visibility into the translation process.</p>
      </section>
      <section id="caching_mechanism">
        <title>Caching Mechanism</title>
        <p>The AI Translator add-on includes a caching system that stores AI translation responses
          locally to optimize performance, reduce costs, and improve the overall translation
          experience.</p>
      </section>
      <section id="why_caching_beneficial">
        <title>Why Caching is Beneficial</title>
        <p><b>Cost Reduction</b>: By caching AI engine responses, the system significantly reduces
          API calls to external services like OpenAI, resulting in lower usage costs for repeated
          translation requests.</p>
        <p><b>Performance Improvement</b>: Cached translations are retrieved instantly from local
          storage, eliminating network latency and API response times for previously translated
          content.</p>
        <p><b>Consistency</b>: The caching mechanism ensures that identical translation requests
          always return the same results, providing consistent and reproducible translations across
          multiple runs.</p>
      </section>
      <section id="enabling_configuring_caching">
        <title>Enabling and Configuring Caching</title>
        <p>Caching configuration is managed through the AI Translator preferences dialog.</p>
        <ol>
          <li><b>Access Preferences</b>:<ul>
              <li>From AI Translator View: Click <b>Settings Dropdown</b> → <b>"Preferences"</b></li>
              <li>From Oxygen Menu: <b>Options</b> → <b>Preferences</b> → <b>Plugins</b> → <b>AI
                  Translator</b></li>
            </ul></li>
        </ol>
      </section>
      <section id="clearing_cache">
        <title>Clearing the Cache</title>
        <p>You can clear the cache from the AI Translator View by using the <b>"Clear Cache"</b>
          button in the main toolbar.</p>
        <p>Clearing cache might be useful after significant changes to AI model configurations or
          when experiencing inconsistent translation results.</p>
      </section></body>
    </topic>
  <topic id="creating_new_translation_task">
      <title>Creating a New Translation Task</title>
      <body>
        <p><fig id="fig_new_translation_task">
        <title>Creating a new translation task</title>
        <image href="../img/ai-translator-new-translation-task.png" placement="break">
          <alt>Creating a new translation task</alt>
        </image>
      </fig></p>
      <p>To create a new translation task in the AI Translator add-on:</p>
      <ol>
        <li><b>Open the AI Translator View</b>: Access the AI Translator panel in Oxygen XML
          Editor.</li>
        <li><b>Start a New Task</b>: Click the <b>"New"</b> button (+ icon) in the AI Translator
          toolbar to open the "New translation task" dialog.</li>
        <li><b>Configure Task Settings</b>:<ul>
            <li><b>Name</b>: Enter a descriptive name for your translation task (e.g.,
              "flowers.dita — fr-FR")</li>
            <li><b>Configuration</b>: Select your AI translation configuration from the dropdown
              menu (e.g., "Translate with OpenAI")</li>
            <li><b>Details</b>: Provide additional context in the details field to refine
              translations. You can describe the scope, target audience, or preferred style to help
              the AI engine produce more accurate translations.</li>
          </ul></li>
        <li><b>Specify Files</b>:<ul>
            <li><b>XLIFF file</b>: Browse and select the XLIFF file you want to translate (e.g.,
              "/path/to/translation/file.xliff")</li>
            <li><b>Memory file</b>: Optionally specify a translation memory file (TMX format) to
              improve translation consistency (e.g., "/path/to/memory/file.tmx")</li>
          </ul></li>
        <li><b>Create the Task</b>: Click the <b>"Create"</b> button to start the translation
          process, or <b>"Cancel"</b> to abort.</li>
      </ol>
      <p>Once created, your translation task will appear in the AI Translator view with status
        indicators showing the progress (Running, Stopped, or Completed) and processing time
        information.</p>
      </body>
    </topic>
  <topic id="configuration_settings">
      <title>Configuration and Settings</title>
    <body>  
    <p>The AI Translator add-on provides comprehensive configuration options through the
        Preferences dialog, allowing you to customize translation behavior, AI model settings,
        caching, and retry mechanisms.</p>
      <p>
        <fig id="fig_preferences">
          <title>Preferences Dialog</title>
          <image href="../img/ai-translator-preferences.png" placement="break">
            <alt>Preferences Dialog</alt>
          </image>
        </fig>
      </p>
      <section id="accessing_preferences">
        <title>Accessing Preferences</title>
        <p>To access the AI Translator preferences:</p>
        <ol>
          <li><b>From the AI Translator View</b>: Click the <b>Settings Dropdown</b> in the main
            toolbar and select <b>"Preferences"</b></li>
          <li><b>From Oxygen Menu</b>: Navigate to <b>Options > Preferences > Plugins > AI
              Translator</b></li>
        </ol>
      </section>
      <section id="main_preferences_panel">
        <title>Main Preferences Panel</title>
        <p>The main preferences panel contains the core settings for the AI Translator plugin:</p>
        <p><b>Plugin Information</b>:</p>
        <ul>
          <li>Displays general information about the AI Translator plugin</li>
          <li>Shows that it helps translate XLIFF files using AI engines</li>
          <li>Notes the requirement for the Positron plugin to define AI engine connectors</li>
        </ul>
        <p><b>Translations Working Folder</b>:</p>
        <ul>
          <li><b>Path</b>: <codeph>/home/user/translations</codeph> (configurable)</li>
          <li><b>Purpose</b>: Internal working folder used by the translator to store intermediate
            results</li>
          <li><b>Important</b>: This folder is not meant for direct browsing or manual editing</li>
          <li><b>Configuration</b>: Use the browse button to select a different location</li>
        </ul>
        <p><b>Enable Caching</b>:</p>
        <ul>
          <li><b>Checkbox</b>: Enable/disable local caching of AI engine responses</li>
          <li><b>Benefit</b>: When enabled, messages exchanged with AI engines are cached locally
            for reuse and faster translations</li>
          <li><b>Storage Settings</b>:<ul>
              <li><b>Size on disk (MB)</b>: Default <codeph>100</codeph> MB - configurable cache
                size limit</li>
              <li><b>Time-to-live/Expiration (days)</b>: Default <codeph>7</codeph> days - cache
                entry expiration time</li>
              <li><b>Dropdown Options</b>: 3, 5, 7, 15, 31, 90, 180, 365 days</li>
            </ul></li>
          <li><b>Cache Behavior</b>: A cache entry expires after the configured time-to-live
            period</li>
        </ul>
        <p><b>Cache Configuration Options</b>:</p>
        <p><b>Enable Caching</b>:</p>
        <ul>
          <li><b>Checkbox</b>: Toggle to enable/disable the caching system</li>
          <li><b>Default</b>: Enabled (recommended for optimal performance)</li>
        </ul>
        <p><b>Size on Disk</b>:</p>
        <ul>
          <li><b>Setting</b>: Configure maximum cache size in MB</li>
          <li><b>Default</b>: 100 MB</li>
          <li><b>Range</b>: Adjustable based on available disk space and translation volume</li>
          <li><b>Recommendation</b>: Set to 100-500 MB for typical usage, higher for large-scale
            translation projects</li>
        </ul>
        <p><b>Time-to-Live/Expiration</b>:</p>
        <ul>
          <li><b>Setting</b>: Configure cache entry expiration time</li>
          <li><b>Default</b>: 7 days</li>
          <li><b>Options</b>: 3, 5, 7, 15, 31, 90, 180, 365 days</li>
          <li><b>Recommendation</b>: 7-15 days for active projects, longer periods for reference
            translations</li>
        </ul>
      </section>
      <section id="translation_configurations">
        <title>Translation Configurations</title>
        <p>The configurations table manages different AI translation setups:</p>
        <p><b>Configuration Table Columns</b>:</p>
        <ul>
          <li><b>Name</b>: Descriptive name for the configuration (e.g., "Translate with Open AI
            GPT 4.1")</li>
          <li><b>Positron Connector Type</b>: The AI connector type (e.g., "Open AI")</li>
          <li><b>Translation Model</b>: The specific AI model (e.g., "GPT 4.1", "GPT 5")</li>
        </ul>
        <p><b>Default Configurations</b>:</p>
        <ul>
          <li><b>Translate with Open AI GPT 4.1</b>: Uses OpenAI connector with GPT 4.1 model</li>
          <li><b>Translate with Open AI GPT 5</b>: Uses OpenAI connector with GPT 5 model</li>
        </ul>
        <p><b>Configuration Management</b>:</p>
        <ul>
          <li><b>Add</b>: Create a new translation configuration</li>
          <li><b>Edit</b>: Modify an existing configuration</li>
          <li><b>Delete</b>: Remove a configuration</li>
        </ul>
      </section></body>
    </topic>
  <topic id="translation_configuration_dialog">
      <title>Translation Configuration Dialog</title>
      <body>
        <p>
        <fig id="fig_translation_config">
          <title>Translation Configuration Dialog</title>
          <image href="../img/ai-translator-new-translation-configuration.png" placement="break">
            <alt>Translation Configuration Dialog</alt>
          </image>
        </fig>
        </p>
      <p>When creating or editing a translation configuration, the detailed configuration dialog
        provides comprehensive options for fine-tuning translation behavior.</p>
      <section id="general_settings">
        <title>General Settings</title>
        <ul>
          <li><b>Configuration name</b>: Custom name for the configuration (e.g., "Translate with
            Open AI")</li>
          <li><b>Positron connector</b>: Select the AI connector type from dropdown (e.g., "Open
            AI")</li>
          <li><b>Translation model</b>: Choose the specific AI model (e.g., "GPT 4.1")</li>
        </ul>
      </section>
      <section id="introspection_retries">
        <title>Introspection and Retries</title>
        <p>Configure quality checks and retry behavior when translations fail integrity
          validation:</p>
        <ul>
          <li><b>Enable introspection &amp; retries</b>: Master toggle for quality control
            features</li>
          <li><b>Enable introspection only for complex translation units</b>: <ul>
              <li>When checked: Performs introspection only for translation units with complex
                inline structures</li>
              <li>When unchecked: Performs introspection on every translation unit</li>
            </ul></li>
          <li><b>Introspection model</b>: AI model used for quality checks (e.g., "GPT 4.1")</li>
          <li><b>Max translation retries</b>: Maximum number of retry attempts (default: 3)</li>
        </ul>
      </section>
      <section id="retry_models_configuration">
        <title>Retry Models Configuration</title>
        <ul>
          <li><b>Retries models</b>: Comma-separated list of models used sequentially for
            retries</li>
          <li><b>Example</b>: "GPT 4.1, GPT 4.1 Mini, GPT 5"</li>
          <li><b>Choose Button</b>: Opens the "Select Retries Models" dialog</li>
        </ul>
        <p><b>Select Retries Models Dialog</b>:</p>
        <p>Configure the sequence of models used for retry attempts:</p>
        <ul>
          <li><b>1st retry</b>: First model to try (e.g., "GPT 4.1")</li>
          <li><b>2nd retry</b>: Second model to try (e.g., "GPT 4.1")</li>
          <li><b>3rd retry</b>: Third model to try (e.g., "GPT 5")</li>
          <li><b>Purpose</b>: Select models used sequentially when retries are needed</li>
        </ul>
      </section>
      </body>
    </topic>
  <topic id="best_practices">
      <title>Best Practices</title>
      <body><section id="working_folder_selection">
        <title>Working Folder Selection</title>
        <ul>
          <li>Choose a location with sufficient disk space for translation files</li>
          <li>Ensure the folder has write permissions</li>
          <li>Consider using a dedicated folder for translation work</li>
        </ul>
      </section>
      <section id="caching_configuration">
        <title>Caching Configuration</title>
        <ul>
          <li><b>Enable caching</b> for faster repeat translations and reduced API costs</li>
          <li><b>Size limit</b>: Set based on available disk space and translation volume</li>
          <li><b>Expiration time</b>: Balance between freshness and reuse (7-15 days
            recommended)</li>
        </ul>
      </section>
      <section id="model_selection">
        <title>Model Selection</title>
        <ul>
          <li><b>Primary model</b>: Choose based on translation quality requirements and cost
            considerations</li>
          <li><b>Retry models</b>: Configure a mix of models for fallback scenarios</li>
          <li><b>Introspection</b>: Use for complex documents requiring high accuracy</li>
        </ul>
      </section>
      <section id="retry_strategy">
        <title>Retry Strategy</title>
        <ul>
          <li><b>Max retries</b>: 3 is typically sufficient for most scenarios</li>
          <li><b>Model sequence</b>: Start with cost-effective models, escalate to premium models
            for retries</li>
          <li><b>Complex units only</b>: Enable for documents with complex inline formatting</li>
        </ul>
        <p>This configuration system provides flexibility to optimize translation quality,
          performance, and cost based on your specific requirements and available AI models.</p>
      </section></body>
    </topic>
</topic>
