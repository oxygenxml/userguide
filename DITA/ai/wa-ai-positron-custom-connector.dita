<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="wa-ai-positron-custom-connector">
  <title>Oxygen AI Positron Custom Connector Plugin for Web Author</title>
  <body>
    <p id="p_kdh_dgk_54b">The <b>Oxygen AI Positron Custom Connector</b> plugin contributes a custom
      connector for the <uicontrol>Oxygen AI Positron for Web Author</uicontrol>. The connector,
      named <uicontrol>Custom AI Service</uicontrol>, enables integration with a custom AI service
      that exposes a REST API, similar to OpenAI's chat-completion API. Unlike the built-in <b>Open
        AI</b> connector, this supports the <i>OAuth Client Credentials Flow</i> for authentication
      and offers more flexibility by letting you set query parameters.<note id="note_qc5_zq2_y2c"
        >The <b>Oxygen AI Positron Custom Connector</b> is compatible with <b>Oxygen XML Web
          Author</b> version 27.1.0 or newer.</note></p>
    <section id="section_sqz_l5j_1fc">
      <title>Installation</title>
      <p id="p_ws5_3jx_l2c">You can download the plugin from here: <xref
          href="https://www.oxygenxml.com/InstData/Addons/default/com/oxygenxml/oxygen-ai-positron-custom-connector-addon/1.0.1/oxygen-ai-positron-custom-connector-addon-1.0.1-plugin.jar"
          format="html" scope="external">Oxygen AI Positron Custom Connector Download</xref>. </p>
      <p id="p_xs5_3jx_l2c">You can then <xref
          href="https://www.oxygenxml.com/doc/ug-waCustom/topics/webapp-configure-plugins.html"
          format="html" scope="external">install the plugin in Web Author</xref> to make the
          <uicontrol>Custom AI Service</uicontrol> connector available in <uicontrol>Oxygen AI
          Positron for Web Author</uicontrol> plugin.</p>
    </section>
    <section id="direct_ai_engine_licensing">
      <title>How to Use the Connector</title>
      <p>When the <b>Custom AI Service</b> is selected from the <uicontrol>AI Service</uicontrol>
        administration page, the following options are available to configure the connector:</p>
      <p id="p_zcs_5s2_y2c">
        <dl id="dl_fmv_5s2_y2c">
          <dlentry id="dlentry_gmv_5s2_y2c">
            <dt>Base URL</dt>
            <dd>The web address of the custom AI service. By default, it is
                <filepath>https://api.openai.com/v1</filepath>.</dd>
          </dlentry>
          <dlentry id="dlentry_ppf_ys2_y2c">
            <dt>API Key</dt>
            <dd>The API key necessary to work with the connector. If you do not specify an API key,
              the connector will try to use environmental variables or system properties to
              authenticate using the <i>OAuth Client Credential Flow</i>. These are the
              environmental variables or system properties that should be specified:<ul>
                <li>POSITRON_CONNECTOR_AUTH_DOMAIN: The domain for the authorization server (e.g.,
                  'example-123abc.us.auth0.com'). This is not required if
                  POSITRON_CONNECTOR_AUTH_TOKEN_URL is defined.</li>
                <li>POSITRON_CONNECTOR_AUTH_CLIENT_ID: The ID of the requesting client.</li>
                <li>POSITRON_CONNECTOR_AUTH_CLIENT_SECRET: The secret of the client.</li>
                <li>POSITRON_CONNECTOR_AUTH_AUDIENCE: The audience for the token, typically the API
                  or service you're accessing. Optional.</li>
                <li>POSITRON_CONNECTOR_AUTH_ORGANIZATION: The organization name or identifier.
                  Optional.</li>
                <li>POSITRON_CONNECTOR_AUTH_SCOPE: The OAuth 2.0 scope to request when generating
                  the access token. Optional.</li>
                <li>POSITRON_CONNECTOR_AUTH_TOKEN_URL: Full URL to the token endpoint used to obtain
                  the access token. When this variable is defined, it overrides the default behavior
                  and is used directly for the OAuth token request. Example:
                    <filepath>https://your-okta-domain.com/oauth2/abc123/v1/token</filepath>. If
                  this variable is not set, the request URL is constructed automatically using the
                  following pattern:
                    <filepath>https://&lt;POSITRON_CONNECTOR_AUTH_DOMAIN&gt;/oauth/token</filepath>.</li>
              </ul><p>You can find more information about how you can find these values in Auth0
                here: <xref
                  href="https://auth0.com/docs/get-started/authentication-and-authorization-flow/client-credentials-flow/call-your-api-using-the-client-credentials-flow#parameters"
                  format="html" scope="external">Auth0 Client Credentials Flow
                Parameters</xref>.</p>
            </dd>
          </dlentry>
          <dlentry id="dlentry_g3b_st2_y2c">
            <dt>Model</dt>
            <dd>The model to use.</dd>
          </dlentry>
          <dlentry id="dlentry_jxm_tt2_y2c">
            <dt>Enable Text Moderation</dt>
            <dd>This setting applies moderation to both the input text sent to the AI service and
              the response received from the AI service. It is enabled by default. By default, when
              executing an action using this connector, three requests are made:<ul
                id="ul_rx5_xt2_y2c">
                <li id="li_sx5_xt2_y2c">A moderation on the input content request to
                    <codeph>configured_address/moderations</codeph>.</li>
                <li id="li_uyk_yt2_y2c">A completion request to
                    <codeph>configured_address/chat/completions</codeph>.</li>
                <li id="li_yyk_b52_y2c">A moderation on content returned by the AI to
                    <codeph>configured_address/moderations</codeph>.</li>
              </ul><note id="note_vbg_252_y2c"> If your AI service does not require moderation (for
                example, moderation is already made by the <codeph>chat/completions</codeph>
                endpoint), you can disable it by deselecting this option.</note></dd>
          </dlentry>
          <dlentry id="dlentry_ost_g52_y2c">
            <dt>Enable Streaming</dt>
            <dd>When this option is disabled, the connector will only execute requests without
              streaming to the AI service. It is useful when the AI service does not support
              streaming. It is enabled by default.</dd>
          </dlentry>
          <dlentry id="dlentry_dzk_j52_y2c">
            <dt>Extra Headers</dt>
            <dd>Extra <codeph>name/value</codeph> parameters to set in the headers of the AI
              requests.</dd>
          </dlentry>
        </dl>
      </p>
    </section>
  </body>
</topic>
