<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="debugging-pdf-transformation">
    <title>Debugging PDF Transformations</title>
    <taskbody>
        <context>
            <p>To debug a DITA PDF transformation scenario using the XSLT Debugger follow these
                steps:</p>
        </context>
        <steps>
            <step>
                <cmd>Go to <menucascade>
            <uicontrol>Options</uicontrol>
            <uicontrol> Preferences</uicontrol>
            <uicontrol> XML</uicontrol>
            <uicontrol> XML Catalog</uicontrol>
          </menucascade>, click <uicontrol>Add</uicontrol> and select the file located at
            <filepath>[Oxygen Install Directory]\
            frameworks\dita\DITA-OT\plugins\org.dita.pdf2\cfg\catalog.xml</filepath>;</cmd>
            </step>
            <step>
                <cmd>Open the map in the <uicontrol>DITA Maps Manager</uicontrol> and create a
            <uicontrol>DITA Map PDF</uicontrol> transformation scenario;</cmd>
            </step>
            <step>
                <cmd>Edit the scenario, go to the <uicontrol>Parameters</uicontrol> tab and change
                    the value of the <uicontrol>clean.temp</uicontrol> parameter to
                        <uicontrol>no</uicontrol>;</cmd>
            </step>
            <step>
                <cmd>Run the transformation scenario;</cmd>
            </step>
            <step>
                <cmd>Open in <ph
                        conref="../topics/oxygenEntitiesDictionary.dita#OxygenEntities/oxygenXML"/>
                    the <uicontrol>stage1.xml</uicontrol> file located in the temporary directory
                    and format and indent it;</cmd>
            </step>
            <step>
        <cmd>Create a transformation scenario for this XML file by associating the
            <filepath>topic2fo_shell_fop.xsl</filepath> stylesheet located at
            <filepath>OXYGEN_INSTALL_DIR/frameworks/dita/DITA-OT/plugins/org.dita.pdf2/xsl/fo/topic2fo_shell_fop.xsl</filepath>.
          If you are specifically using the RenderX XEP or AntennaHouse FO processors to build the
          PDF output, you should use the XSLs <filepath>topic2fo_shell_xep.xsl</filepath> or
            <filepath>topic2fo_shell_axf.xsl</filepath> located in the same folder.</cmd>
      </step>
      <step>
        <cmd>In the transformation scenario edit the XSLT Processor combo box choose the Saxon EE
          XSLT processor (the same processor used when the DITA OT transformation is
          executed).</cmd>
      </step>
      <step>
        <cmd>In the transformation scenario edit the <b>Parameters</b> list and set the parameter
            <varname>locale</varname> with the value <varname>en_GB</varname> and the parameter
            <varname>customizationDir.url</varname> to point either to your customization directory
          or to the default DITA OT customization directory. It's value should have an URL syntax
            like:<codeph>file://c:/path/to/OXYGEN_INSTALL_DIR/frameworks/dita/DITA-OT/plugins/org.dita.pdf2/cfg</codeph>.</cmd>
      </step>
            <step>
                <cmd>Debug the transformation scenario.</cmd>
            </step>
        </steps>
    </taskbody>
    <related-links product="editor editorEclipse">
    <link href="../topics/working-with-xslt-debugger.dita#working-with-xslt-debugger"/>
  </related-links>
</task>
